"use strict";(self.webpackChunkinfra_portal=self.webpackChunkinfra_portal||[]).push([[7033],{3455:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"what-we-did/Q1","title":"\ud83c\udf89 2025-Q1 Overview","description":"\ud83d\udcca Monitoring","source":"@site/docs/what-we-did/2025-Q1.mdx","sourceDirName":"what-we-did","slug":"/what-we-did/Q1","permalink":"/infra-portal/docs/what-we-did/Q1","draft":false,"unlisted":false,"editUrl":"https://github.com/MapColonies/infra-portal/tree/master/docs/what-we-did/2025-Q1.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"\ud83c\udf89 2025-Q1 Overview","sidebar_position":4,"toc_min_heading_level":2,"toc_max_heading_level":6},"sidebar":"whatWeDidSidebar","previous":{"title":"\ud83c\udf89 2025-Q2 Overview","permalink":"/infra-portal/docs/what-we-did/Q2"},"next":{"title":"\ud83c\udf89 2024-Q4 Overview","permalink":"/infra-portal/docs/what-we-did/Q4"}}');var r=t(4848),a=t(8453);t(1470),t(9365);const s={title:"\ud83c\udf89 2025-Q1 Overview",sidebar_position:4,toc_min_heading_level:2,toc_max_heading_level:6},l=void 0,o={},d=[{value:"\ud83d\udcca Monitoring",id:"-monitoring",level:2},{value:"\ud83d\udd11 Grafana SSO Authentication via GitHub",id:"-grafana-sso-authentication-via-github",level:3},{value:"\ud83d\udd27 Config Management",id:"-config-management",level:2},{value:"\ud83d\udce6 Deployed in All Sites and Ready for Production",id:"-deployed-in-all-sites-and-ready-for-production",level:3},{value:"\ud83d\udee0\ufe0f CI/CD Improvements",id:"\ufe0f-cicd-improvements",level:2},{value:"\ud83d\udcdd Helm Lint in the PR Workflow",id:"-helm-lint-in-the-pr-workflow",level:3},{value:"\ud83d\udce6 Upgrading The Entire MC-Packages",id:"-upgrading-the-entire-mc-packages",level:2},{value:"\ud83d\udea8 Upgrades with BREAKING CHANGES:",id:"-upgrades-with-breaking-changes",level:3},{value:"ESLint Upgrade: v8 -&gt; v9",id:"eslint-upgrade-v8---v9",level:4},{value:"Open Telemetry Upgrades",id:"open-telemetry-upgrades",level:4},{value:"\ud83d\udee1\ufe0f Authentication",id:"\ufe0f-authentication",level:2},{value:"\ud83d\udd10 New Informative Properties in OPA Response",id:"-new-informative-properties-in-opa-response",level:3},{value:"\ud83d\udd12 Masking Tokens for Security",id:"-masking-tokens-for-security",level:3},{value:"\ud83d\udcd1 New Helm Library for Labels and Annotations",id:"-new-helm-library-for-labels-and-annotations",level:2},{value:"\ud83d\udd4d Boilerplate",id:"-boilerplate",level:2},{value:"\ud83e\uddfe Added Recommended VS Code Extensions (#337)",id:"-added-recommended-vs-code-extensions-337",level:3},{value:"\u2638\ufe0f Added VS Code Settings (#338)",id:"\ufe0f-added-vs-code-settings-338",level:3},{value:"\ud83d\udde3\ufe0f Refactored Commitlint Configuration (#339)",id:"\ufe0f-refactored-commitlint-configuration-339",level:3},{value:"\ud83c\udd95 Upgraded Redocly to a Non-Deprecated Package (#341)",id:"-upgraded-redocly-to-a-non-deprecated-package-341",level:3},{value:"\ud83d\udce6 Common TSConfig Package (#342)",id:"-common-tsconfig-package-342",level:3},{value:"\u26cf\ufe0f\ud83d\udcc8 Upgraded ESLint to Newest Version (#344)",id:"\ufe0f-upgraded-eslint-to-newest-version-344",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"-monitoring",children:"\ud83d\udcca Monitoring"}),"\n",(0,r.jsx)(n.h3,{id:"-grafana-sso-authentication-via-github",children:"\ud83d\udd11 Grafana SSO Authentication via GitHub"}),"\n",(0,r.jsxs)(n.p,{children:["We\u2019ve made logging into Grafana easier! Now, you can sign in using your GitHub account through Single Sign-On (SSO),\nso there's no need to manage another password. Simply click ",(0,r.jsx)(n.strong,{children:"Sign in with GitHub"})," on the Grafana login page, and you\u2019re in!"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why this is great:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No more remembering passwords"}),"\n",(0,r.jsx)(n.li,{children:"Secure authentication via GitHub"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Grafana SSO",src:t(1791).A+"",width:"461",height:"536"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-config-management",children:"\ud83d\udd27 Config Management"}),"\n",(0,r.jsx)(n.h3,{id:"-deployed-in-all-sites-and-ready-for-production",children:"\ud83d\udce6 Deployed in All Sites and Ready for Production"}),"\n",(0,r.jsxs)(n.p,{children:["Our ",(0,r.jsx)(n.strong,{children:"Config Management"})," system has been successfully deployed across all environments and is now ready for production use!"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-cicd-improvements",children:"\ud83d\udee0\ufe0f CI/CD Improvements"}),"\n",(0,r.jsx)(n.h3,{id:"-helm-lint-in-the-pr-workflow",children:"\ud83d\udcdd Helm Lint in the PR Workflow"}),"\n",(0,r.jsxs)(n.p,{children:["To ensure higher quality and smoother deployments, we\u2019ve added ",(0,r.jsx)(n.strong,{children:"Helm linting"})," as part of the pull request workflow.",(0,r.jsx)(n.br,{}),"\n","This will help us catch issues with Helm charts early on, preventing errors during deployment."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-upgrading-the-entire-mc-packages",children:"\ud83d\udce6 Upgrading The Entire MC-Packages"}),"\n",(0,r.jsxs)(n.p,{children:["We took a major step forward by upgrading our entire MapColonies packages.",(0,r.jsx)(n.br,{}),"\n","It\u2019s now fully compatible with the latest versions, ensuring improved performance and stability."]}),"\n",(0,r.jsx)(n.h3,{id:"-upgrades-with-breaking-changes",children:"\ud83d\udea8 Upgrades with BREAKING CHANGES:"}),"\n",(0,r.jsx)(n.h4,{id:"eslint-upgrade-v8---v9",children:"ESLint Upgrade: v8 -> v9"}),"\n",(0,r.jsx)(n.p,{children:"Key changes in ESLint 9:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Flat Config as the default: Simplifies configuration with ",(0,r.jsx)(n.code,{children:"eslint.config.js"})," as the single format.",(0,r.jsx)(n.br,{}),"\n","Better default settings: Supports newer JavaScript syntax by default, like ECMAScript latest version and ESM."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Improved plugin and rule management: Makes it easier to set up and use ESLint with various plugins and rule sets."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Performance improvements: Faster linting, especially in large projects."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These updates make ESLint 9 a more streamlined tool, improving both ease of setup and performance."}),"\n",(0,r.jsx)(n.h4,{id:"open-telemetry-upgrades",children:"Open Telemetry Upgrades"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["We\u2019ve updated the telemetry package to the latest versions of all OpenTelemetry dependencies.\nThis will help improve the observability and reliability of our services.",(0,r.jsx)(n.br,{}),"\n","You can see the PR ",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/telemetry/pull/125",children:"here"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-authentication",children:"\ud83d\udee1\ufe0f Authentication"}),"\n",(0,r.jsx)(n.h3,{id:"-new-informative-properties-in-opa-response",children:"\ud83d\udd10 New Informative Properties in OPA Response"}),"\n",(0,r.jsxs)(n.p,{children:["We\u2019ve added to the response clients get from OPA some new properties. One important property is the ",(0,r.jsx)(n.strong,{children:'"sub"'})," field,\nwhich represents the client name. This can be very helpful when monitoring requests and analyzing usage by clients.\n",(0,r.jsx)(n.img,{alt:"OPA Response",src:t(5863).A+"",width:"527",height:"245"})]}),"\n",(0,r.jsx)(n.h3,{id:"-masking-tokens-for-security",children:"\ud83d\udd12 Masking Tokens for Security"}),"\n",(0,r.jsxs)(n.p,{children:["We\u2019ve masked the token information in OPA responses.",(0,r.jsx)(n.br,{}),"\n","This adds an additional layer of security and reduces the risk of exposing sensitive data."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-new-helm-library-for-labels-and-annotations",children:"\ud83d\udcd1 New Helm Library for Labels and Annotations"}),"\n",(0,r.jsxs)(n.p,{children:["We\u2019ve created a new Helm library named ",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/labels-and-annotations",children:"labels and annotations"}),".\nThis library is responsible for adding common labels and annotations to any service that uses it as a dependency."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why this is helpful:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistency"}),": All services in the project will have the required labels and annotations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Improve Visualization"}),": These labels will be used to help centralize services from all teams in one dashboard"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-boilerplate",children:"\ud83d\udd4d Boilerplate"}),"\n",(0,r.jsx)(n.p,{children:"We synced all the MC-Package upgrades to the boilerplate. Here are the important PRs made in this quarter:"}),"\n",(0,r.jsxs)(n.h3,{id:"-added-recommended-vs-code-extensions-337",children:["\ud83e\uddfe Added Recommended VS Code Extensions (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/337",children:"#337"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Added a recommended list of VS Code extensions to enhance the developer experience, including tools for YAML, OpenAPI, Helm, Docker, Kubernetes, and ESLint."}),"\n",(0,r.jsxs)(n.h3,{id:"\ufe0f-added-vs-code-settings-338",children:["\u2638\ufe0f Added VS Code Settings (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/338",children:"#338"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Configured these additional VS Code settings:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Setting Prettier as the default formatter"}),"\n",(0,r.jsx)(n.li,{children:"Ensuring a final newline is added to files"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"\ufe0f-refactored-commitlint-configuration-339",children:["\ud83d\udde3\ufe0f Refactored Commitlint Configuration (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/339",children:"#339"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["This PR updates the commitlint configuration to extend ",(0,r.jsx)(n.code,{children:"@map-colonies/commitlint-config"})," and removes custom scope rules that irrelevant now"]}),"\n",(0,r.jsxs)(n.h3,{id:"-upgraded-redocly-to-a-non-deprecated-package-341",children:["\ud83c\udd95 Upgraded Redocly to a Non-Deprecated Package (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/341",children:"#341"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["This PR replaces the deprecated Redocly dependency with the updated ",(0,r.jsx)(n.code,{children:"@redocly/cli"})," package, including related configuration changes"]}),"\n",(0,r.jsxs)(n.h3,{id:"-common-tsconfig-package-342",children:["\ud83d\udce6 Common TSConfig Package (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/342",children:"#342"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["This PR updates the project to use the shared ",(0,r.jsx)(n.code,{children:"@map-colonies/tsconfig"})," package, simplifying TypeScript configuration management and removing redundant files"]}),"\n",(0,r.jsxs)(n.h3,{id:"\ufe0f-upgraded-eslint-to-newest-version-344",children:["\u26cf\ufe0f\ud83d\udcc8 Upgraded ESLint to Newest Version (",(0,r.jsx)(n.a,{href:"https://github.com/MapColonies/ts-server-boilerplate/pull/344",children:"#344"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Upgraded ESLint to the latest version, improving linting capabilities and ensuring compatibility with ESLint v9"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var i=t(4164);const r={tabItem:"tabItem_Ymn6"};var a=t(4848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,s),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>y});var i=t(6540),r=t(4164),a=t(3104),s=t(6347),l=t(205),o=t(7485),d=t(1682),c=t(679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:r}}=e;return{value:n,label:t,attributes:i,default:r}}))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const r=(0,s.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(a),(0,i.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=h(e),[s,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:a}))),[d,u]=m({queryString:t,groupId:r}),[g,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,c.Dv)(t);return[r,(0,i.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),v=(()=>{const e=d??g;return p({value:e,tabValues:a})?e:null})();(0,l.A)((()=>{v&&o(v)}),[v]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),f(e)}),[u,f,a]),tabValues:a}}var f=t(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function x(e){let{className:n,block:t,selectedValue:i,selectValue:s,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.a_)(),c=e=>{const n=e.currentTarget,t=o.indexOf(n),r=l[t].value;r!==i&&(d(n),s(r))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>o.push(e),onKeyDown:u,onClick:c,...a,className:(0,r.A)("tabs__item",v.tabItem,a?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:a}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",v.tabList),children:[(0,b.jsx)(x,{...n,...e}),(0,b.jsx)(j,{...n,...e})]})}function y(e){const n=(0,f.A)();return(0,b.jsx)(w,{...e,children:u(e.children)},String(n))}},1791:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/grafana-sso-34680710531294e25559114fb0c8b8ba.png"},5863:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/opa-response-d1dd39b9efcd90774043d1848b61fb67.png"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(6540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);