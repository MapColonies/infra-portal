"use strict";(self.webpackChunkinfra_portal=self.webpackChunkinfra_portal||[]).push([[9182],{29917:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer","title":"IConsumer","description":"@map-colonies/jobnik-sdk","source":"@site/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer.md","sourceDirName":"knowledge-base/packages/jobnik-sdk/typedoc/interfaces","slug":"/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer","permalink":"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer","draft":false,"unlisted":false,"editUrl":"https://github.com/MapColonies/infra-portal/tree/master/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"HttpClientOptions","permalink":"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/HttpClientOptions"},"next":{"title":"IJobnikSDK","permalink":"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK"}}');var r=d(74848),c=d(28453);const a={},t=void 0,i={},o=[{value:"Type Parameters",id:"type-parameters",level:2},{value:"Properties",id:"properties",level:2},{value:"dequeueTask()",id:"dequeuetask",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters",level:4},{value:"stageType",id:"stagetype",level:5},{value:"Returns",id:"returns",level:4},{value:"markTaskCompleted()",id:"marktaskcompleted",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"taskId",id:"taskid",level:5},{value:"Returns",id:"returns-1",level:4},{value:"markTaskFailed()",id:"marktaskfailed",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"taskId",id:"taskid-1",level:5},{value:"Returns",id:"returns-2",level:4}];function l(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",p:"p",strong:"strong",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/",children:(0,r.jsx)(s.strong,{children:"@map-colonies/jobnik-sdk"})})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h1,{id:"interface-iconsumerstagetypes",children:"Interface: IConsumer<StageTypes>"}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/types/consumer.ts#L13",children:"types/consumer.ts:13"})]}),"\n",(0,r.jsx)(s.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,r.jsxs)(s.p,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"StageTypes"})," ",(0,r.jsx)(s.em,{children:"extends"})," ",(0,r.jsx)(s.code,{children:"StageTypesTemplate"}),"<",(0,r.jsx)(s.code,{children:"StageTypes"}),"> = {}"]}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"dequeuetask",children:"dequeueTask()"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"dequeueTask"}),": <",(0,r.jsx)(s.code,{children:"StageType"}),">(",(0,r.jsx)(s.code,{children:"stageType"}),") => ",(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"null"})," | { ",(0,r.jsx)(s.code,{children:"attempts"}),": ",(0,r.jsx)(s.code,{children:"number"}),"; ",(0,r.jsx)(s.code,{children:"creationTime"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"data"}),": ",(0,r.jsx)(s.code,{children:"InferTaskData"}),"<",(0,r.jsx)(s.code,{children:"StageType"}),", ",(0,r.jsx)(s.code,{children:"StageTypes"}),">[",(0,r.jsx)(s.code,{children:'"data"'}),"]; ",(0,r.jsx)(s.code,{children:"id"}),": ",(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/TaskId",children:(0,r.jsx)(s.code,{children:"TaskId"})}),"; ",(0,r.jsx)(s.code,{children:"maxAttempts"}),": ",(0,r.jsx)(s.code,{children:"number"}),"; ",(0,r.jsx)(s.code,{children:"stageId"}),": ",(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/StageId",children:(0,r.jsx)(s.code,{children:"StageId"})}),"; ",(0,r.jsx)(s.code,{children:"status"}),": ",(0,r.jsx)(s.code,{children:'"PENDING"'})," | ",(0,r.jsx)(s.code,{children:'"IN_PROGRESS"'})," | ",(0,r.jsx)(s.code,{children:'"COMPLETED"'})," | ",(0,r.jsx)(s.code,{children:'"FAILED"'})," | ",(0,r.jsx)(s.code,{children:'"CREATED"'})," | ",(0,r.jsx)(s.code,{children:'"RETRIED"'}),"; ",(0,r.jsx)(s.code,{children:"traceparent"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"tracestate"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"updateTime"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"userMetadata"}),": ",(0,r.jsx)(s.code,{children:"InferTaskData"}),"<",(0,r.jsx)(s.code,{children:"StageType"}),", ",(0,r.jsx)(s.code,{children:"StageTypes"}),">[",(0,r.jsx)(s.code,{children:'"userMetadata"'}),"]; }>"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/types/consumer.ts#L19",children:"types/consumer.ts:19"})]}),"\n",(0,r.jsx)(s.p,{children:"Dequeues the highest priority pending task of the specified stage type."}),"\n",(0,r.jsx)(s.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,r.jsxs)(s.p,{children:["\u2022 ",(0,r.jsx)(s.strong,{children:"StageType"})," ",(0,r.jsx)(s.em,{children:"extends"})," ",(0,r.jsx)(s.code,{children:"string"})," | ",(0,r.jsx)(s.code,{children:"string"})," & ",(0,r.jsx)(s.code,{children:"object"})]}),"\n",(0,r.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.h5,{id:"stagetype",children:"stageType"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"StageType"})}),"\n",(0,r.jsx)(s.p,{children:"Stage type to dequeue tasks from"}),"\n",(0,r.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"null"})," | { ",(0,r.jsx)(s.code,{children:"attempts"}),": ",(0,r.jsx)(s.code,{children:"number"}),"; ",(0,r.jsx)(s.code,{children:"creationTime"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"data"}),": ",(0,r.jsx)(s.code,{children:"InferTaskData"}),"<",(0,r.jsx)(s.code,{children:"StageType"}),", ",(0,r.jsx)(s.code,{children:"StageTypes"}),">[",(0,r.jsx)(s.code,{children:'"data"'}),"]; ",(0,r.jsx)(s.code,{children:"id"}),": ",(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/TaskId",children:(0,r.jsx)(s.code,{children:"TaskId"})}),"; ",(0,r.jsx)(s.code,{children:"maxAttempts"}),": ",(0,r.jsx)(s.code,{children:"number"}),"; ",(0,r.jsx)(s.code,{children:"stageId"}),": ",(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/StageId",children:(0,r.jsx)(s.code,{children:"StageId"})}),"; ",(0,r.jsx)(s.code,{children:"status"}),": ",(0,r.jsx)(s.code,{children:'"PENDING"'})," | ",(0,r.jsx)(s.code,{children:'"IN_PROGRESS"'})," | ",(0,r.jsx)(s.code,{children:'"COMPLETED"'})," | ",(0,r.jsx)(s.code,{children:'"FAILED"'})," | ",(0,r.jsx)(s.code,{children:'"CREATED"'})," | ",(0,r.jsx)(s.code,{children:'"RETRIED"'}),"; ",(0,r.jsx)(s.code,{children:"traceparent"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"tracestate"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"updateTime"}),": ",(0,r.jsx)(s.code,{children:"string"}),"; ",(0,r.jsx)(s.code,{children:"userMetadata"}),": ",(0,r.jsx)(s.code,{children:"InferTaskData"}),"<",(0,r.jsx)(s.code,{children:"StageType"}),", ",(0,r.jsx)(s.code,{children:"StageTypes"}),">[",(0,r.jsx)(s.code,{children:'"userMetadata"'}),"]; }>"]}),"\n",(0,r.jsx)(s.p,{children:"Promise resolving to the dequeued task, or null if no tasks are available"}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"marktaskcompleted",children:"markTaskCompleted()"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"markTaskCompleted"}),": (",(0,r.jsx)(s.code,{children:"taskId"}),") => ",(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/types/consumer.ts#L26",children:"types/consumer.ts:26"})]}),"\n",(0,r.jsx)(s.p,{children:"Marks a task as completed by updating its status."}),"\n",(0,r.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsx)(s.h5,{id:"taskid",children:"taskId"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/TaskId",children:(0,r.jsx)(s.code,{children:"TaskId"})})}),"\n",(0,r.jsx)(s.p,{children:"Branded task ID to mark as completed"}),"\n",(0,r.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(s.p,{children:"Promise that resolves when the status update is complete"}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"marktaskfailed",children:"markTaskFailed()"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"markTaskFailed"}),": (",(0,r.jsx)(s.code,{children:"taskId"}),") => ",(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"void"}),">"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Defined in: ",(0,r.jsx)(s.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/types/consumer.ts#L33",children:"types/consumer.ts:33"})]}),"\n",(0,r.jsx)(s.p,{children:"Marks a task as failed by updating its status."}),"\n",(0,r.jsx)(s.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsx)(s.h5,{id:"taskid-1",children:"taskId"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/infra-portal/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/TaskId",children:(0,r.jsx)(s.code,{children:"TaskId"})})}),"\n",(0,r.jsx)(s.p,{children:"Branded task ID to mark as failed"}),"\n",(0,r.jsx)(s.h4,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Promise"}),"<",(0,r.jsx)(s.code,{children:"void"}),">"]}),"\n",(0,r.jsx)(s.p,{children:"Promise that resolves when the status update is complete"})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,s,d)=>{d.d(s,{R:()=>a,x:()=>t});var n=d(96540);const r={},c=n.createContext(r);function a(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);