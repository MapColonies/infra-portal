"use strict";(self.webpackChunkinfra_portal=self.webpackChunkinfra_portal||[]).push([[440],{9797:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK","title":"JobnikSDK","description":"@map-colonies/jobnik-sdk","source":"@site/docs/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK.md","sourceDirName":"knowledge-base/packages/jobnik-sdk/typedoc/classes","slug":"/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK","permalink":"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK","draft":false,"unlisted":false,"editUrl":"https://github.com/MapColonies/infra-portal/tree/master/docs/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK.md","tags":[],"version":"current","frontMatter":{},"sidebar":"knowledgeBaseSidebar","previous":{"title":"index","permalink":"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/"},"next":{"title":"HttpClientOptions","permalink":"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/HttpClientOptions"}}');var i=s(74848),d=s(28453);const c={},t=void 0,l={},o=[{value:"Examples",id:"examples",level:2},{value:"Type Parameters",id:"type-parameters",level:2},{value:"Implements",id:"implements",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new JobnikSDK()",id:"new-jobniksdk",level:3},{value:"Parameters",id:"parameters",level:4},{value:"options",id:"options",level:5},{value:"baseUrl",id:"baseurl",level:6},{value:"httpClientOptions",id:"httpclientoptions",level:6},{value:"logger",id:"logger",level:6},{value:"metricsRegistry",id:"metricsregistry",level:6},{value:"Returns",id:"returns",level:4},{value:"Examples",id:"examples-1",level:4},{value:"Methods",id:"methods",level:2},{value:"createWorker()",id:"createworker",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"stageType",id:"stagetype",level:5},{value:"taskHandler",id:"taskhandler",level:5},{value:"options?",id:"options-1",level:5},{value:"Returns",id:"returns-1",level:4},{value:"Examples",id:"examples-2",level:4},{value:"Implementation of",id:"implementation-of",level:4},{value:"getApiClient()",id:"getapiclient",level:3},{value:"Returns",id:"returns-2",level:4},{value:"DELETE",id:"delete",level:5},{value:"GET",id:"get",level:5},{value:"HEAD",id:"head",level:5},{value:"OPTIONS",id:"options-2",level:5},{value:"PATCH",id:"patch",level:5},{value:"POST",id:"post",level:5},{value:"PUT",id:"put",level:5},{value:"request",id:"request",level:5},{value:"TRACE",id:"trace",level:5},{value:"eject()",id:"eject",level:5},{value:"Parameters",id:"parameters-2",level:6},{value:"middleware",id:"middleware",level:6},{value:"Returns",id:"returns-3",level:6},{value:"use()",id:"use",level:5},{value:"Parameters",id:"parameters-3",level:6},{value:"middleware",id:"middleware-1",level:6},{value:"Returns",id:"returns-4",level:6},{value:"Example",id:"example",level:4},{value:"Implementation of",id:"implementation-of-1",level:4},{value:"getConsumer()",id:"getconsumer",level:3},{value:"Returns",id:"returns-5",level:4},{value:"Example",id:"example-1",level:4},{value:"Implementation of",id:"implementation-of-2",level:4},{value:"getProducer()",id:"getproducer",level:3},{value:"Returns",id:"returns-6",level:4},{value:"Example",id:"example-2",level:4},{value:"Implementation of",id:"implementation-of-3",level:4}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/",children:(0,i.jsx)(n.strong,{children:"@map-colonies/jobnik-sdk"})})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h1,{id:"class-jobniksdkjobtypes-stagetypes",children:"Class: JobnikSDK<JobTypes, StageTypes>"}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L68",children:"sdk.ts:68"})]}),"\n",(0,i.jsx)(n.p,{children:"Main SDK class for interacting with the Jobnik job management system.\nProvides centralized access to producer, consumer, and worker functionality."}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.p,{children:"Basic usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const sdk = new JobnikSDK({\n  baseUrl: 'https://api.jobnik.example.com'\n});\n\n// Create a job\nconst producer = sdk.getProducer();\nconst job = await producer.createJob({\n  name: 'image-processing',\n  userMetadata: { userId: 'user-123' },\n  data: { imageUrl: 'https://example.com/image.jpg' }\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"With custom types and configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface MyJobTypes {\n  'image-processing': {\n    userMetadata: { userId: string };\n    data: { imageUrl: string };\n  };\n}\n\ninterface MyStageTypes {\n  'resize': {\n    userMetadata: { quality: number };\n    data: { width: number; height: number };\n    task: {\n      userMetadata: { batchId: string };\n      data: { sourceUrl: string };\n    };\n  };\n}\n\nconst sdk = new JobnikSDK<MyJobTypes, MyStageTypes>({\n  baseUrl: 'https://api.jobnik.example.com',\n  logger: customLogger,\n  httpClientOptions: { timeout: 30000 }\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"JobTypes"})," ",(0,i.jsx)(n.em,{children:"extends"})," ",(0,i.jsx)(n.code,{children:"JobTypesTemplate"}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),"> = ",(0,i.jsx)(n.code,{children:"Record"}),"<",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/JobData",children:(0,i.jsx)(n.code,{children:"JobData"})}),">"]}),"\n",(0,i.jsx)(n.p,{children:"Interface defining job types with their metadata and data schemas"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"StageTypes"})," ",(0,i.jsx)(n.em,{children:"extends"})," ",(0,i.jsx)(n.code,{children:"StageTypesTemplate"}),"<",(0,i.jsx)(n.code,{children:"StageTypes"}),"> = ",(0,i.jsx)(n.code,{children:"Record"}),"<",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/StageData",children:(0,i.jsx)(n.code,{children:"StageData"})}),">"]}),"\n",(0,i.jsx)(n.p,{children:"Interface defining stage types with their metadata, data, and task schemas"}),"\n",(0,i.jsx)(n.h2,{id:"implements",children:"Implements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK",children:(0,i.jsx)(n.code,{children:"IJobnikSDK"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"constructors",children:"Constructors"}),"\n",(0,i.jsx)(n.h3,{id:"new-jobniksdk",children:"new JobnikSDK()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"new JobnikSDK"}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">(",(0,i.jsx)(n.code,{children:"options"}),"): ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK",children:(0,i.jsx)(n.code,{children:"JobnikSDK"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L127",children:"sdk.ts:127"})]}),"\n",(0,i.jsx)(n.p,{children:"Creates a new JobnikSDK instance."}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"options",children:"options"}),"\n",(0,i.jsx)(n.p,{children:"Configuration options for the SDK"}),"\n",(0,i.jsx)(n.h6,{id:"baseurl",children:"baseUrl"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.p,{children:"Base URL of the Jobnik API server"}),"\n",(0,i.jsx)(n.h6,{id:"httpclientoptions",children:"httpClientOptions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/HttpClientOptions",children:(0,i.jsx)(n.code,{children:"HttpClientOptions"})})}),"\n",(0,i.jsx)(n.p,{children:"Optional HTTP client configuration (timeouts, retry settings)"}),"\n",(0,i.jsx)(n.h6,{id:"logger",children:"logger"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/Logger",children:(0,i.jsx)(n.code,{children:"Logger"})})}),"\n",(0,i.jsx)(n.p,{children:"Optional logger instance for operation tracking (defaults to NoopLogger)"}),"\n",(0,i.jsx)(n.h6,{id:"metricsregistry",children:"metricsRegistry"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Registry"})}),"\n",(0,i.jsx)(n.p,{children:"Prometheus registry for metrics collection"}),"\n",(0,i.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/classes/JobnikSDK",children:(0,i.jsx)(n.code,{children:"JobnikSDK"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n",(0,i.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const sdk = new JobnikSDK({\n  baseUrl: 'https://api.jobnik.example.com',\n  httpClientOptions: {\n    timeout: 30000,\n    retryOptions: { retries: 3 }\n  },\n  logger: winston.createLogger({ level: 'info' })\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"With Prometheus metrics:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { Registry } from 'prom-client';\n\nconst registry = new Registry();\nconst sdk = new JobnikSDK({\n  baseUrl: 'https://api.jobnik.example.com',\n  metricsRegistry: registry\n});\n\n// Expose metrics endpoint\napp.get('/metrics', async (req, res) => {\n  res.set('Content-Type', registry.contentType);\n  res.send(await registry.metrics());\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"createworker",children:"createWorker()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"createWorker"}),"<",(0,i.jsx)(n.code,{children:"JobType"}),", ",(0,i.jsx)(n.code,{children:"StageType"}),">(",(0,i.jsx)(n.code,{children:"stageType"}),", ",(0,i.jsx)(n.code,{children:"taskHandler"}),", ",(0,i.jsx)(n.code,{children:"options"}),"?): ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IWorker",children:(0,i.jsx)(n.code,{children:"IWorker"})})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L235",children:"sdk.ts:235"})]}),"\n",(0,i.jsx)(n.p,{children:"Creates a worker instance to continuously process tasks of a specific stage type."}),"\n",(0,i.jsx)(n.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"JobType"})," ",(0,i.jsx)(n.em,{children:"extends"})," ",(0,i.jsx)(n.code,{children:"string"})," | ",(0,i.jsx)(n.code,{children:"string"})," & ",(0,i.jsx)(n.code,{children:"object"})," = ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 ",(0,i.jsx)(n.strong,{children:"StageType"})," ",(0,i.jsx)(n.em,{children:"extends"})," ",(0,i.jsx)(n.code,{children:"string"})," | ",(0,i.jsx)(n.code,{children:"string"})," & ",(0,i.jsx)(n.code,{children:"object"})," = ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsx)(n.p,{children:"The stage type this worker will process, must be a key from StageTypes"}),"\n",(0,i.jsx)(n.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsx)(n.h5,{id:"stagetype",children:"stageType"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"StageType"})}),"\n",(0,i.jsx)(n.p,{children:"Stage type name that this worker will process"}),"\n",(0,i.jsx)(n.h5,{id:"taskhandler",children:"taskHandler"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/type-aliases/TaskHandler",children:(0,i.jsx)(n.code,{children:"TaskHandler"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),", ",(0,i.jsx)(n.code,{children:"JobType"}),", ",(0,i.jsx)(n.code,{children:"StageType"}),">"]}),"\n",(0,i.jsx)(n.p,{children:"Async function to process individual tasks"}),"\n",(0,i.jsx)(n.h5,{id:"options-1",children:"options?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/WorkerOptions",children:(0,i.jsx)(n.code,{children:"WorkerOptions"})})}),"\n",(0,i.jsx)(n.p,{children:"Optional worker configuration for concurrency, polling intervals, and circuit breakers"}),"\n",(0,i.jsx)(n.h4,{id:"returns-1",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IWorker",children:(0,i.jsx)(n.code,{children:"IWorker"})})}),"\n",(0,i.jsx)(n.p,{children:"Worker instance ready to start processing tasks"}),"\n",(0,i.jsx)(n.h4,{id:"examples-2",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const worker = sdk.createWorker(\n  async (task, context) => {\n    context.logger.info('Processing task', { taskId: task.id });\n    // Process task data...\n  },\n  'resize',\n  { concurrency: 3, pullingInterval: 5000 }\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Simple worker:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const worker = sdk.createWorker(\n  async (task, context) => {\n    context.logger.info('Processing task', { taskId: task.id });\n    // Your task processing logic here\n  },\n  'resize'\n);\n\nworker.start(); // Begin processing tasks\n"})}),"\n",(0,i.jsx)(n.p,{children:"Worker with custom configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const worker = sdk.createWorker(\n  async (task, context) => {\n    // Process image resize task\n    const { sourceUrl } = task.data;\n    const resizedImage = await processImage(sourceUrl);\n\n    // Create follow-up task\n    await context.producer.createTasks(\n      task.stageId,\n      'optimize',\n      [{ data: { imageData: resizedImage } }]\n    );\n  },\n  'resize',\n  {\n    concurrency: 5,\n    pullingInterval: 2000,\n    taskHandlerCircuitBreaker: {\n      enabled: true,\n      errorThresholdPercentage: 50\n    }\n  }\n);\n"})}),"\n",(0,i.jsx)(n.h4,{id:"implementation-of",children:"Implementation of"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK",children:(0,i.jsx)(n.code,{children:"IJobnikSDK"})}),".",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK#createworker",children:(0,i.jsx)(n.code,{children:"createWorker"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getapiclient",children:"getApiClient()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"getApiClient"}),"(): ",(0,i.jsx)(n.code,{children:"object"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L269",children:"sdk.ts:269"})]}),"\n",(0,i.jsx)(n.p,{children:"Gets the underlying API client for direct API interactions."}),"\n",(0,i.jsx)(n.h4,{id:"returns-2",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"object"})}),"\n",(0,i.jsx)(n.p,{children:"ApiClient instance configured with the SDK's base URL and HTTP client options"}),"\n",(0,i.jsx)(n.h5,{id:"delete",children:"DELETE"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"DELETE"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"delete"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a DELETE endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"get",children:"GET"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"GET"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"get"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a GET endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"head",children:"HEAD"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HEAD"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"head"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a HEAD endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"options-2",children:"OPTIONS"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"OPTIONS"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"options"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a OPTIONS endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"patch",children:"PATCH"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PATCH"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"patch"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a PATCH endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"post",children:"POST"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"POST"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"post"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a POST endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"put",children:"PUT"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PUT"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"put"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a PUT endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"request",children:"request"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"request"}),": ",(0,i.jsx)(n.code,{children:"ClientRequestMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.h5,{id:"trace",children:"TRACE"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"TRACE"}),": ",(0,i.jsx)(n.code,{children:"ClientMethod"}),"<",(0,i.jsx)(n.code,{children:"paths"}),", ",(0,i.jsx)(n.code,{children:'"trace"'}),", ",(0,i.jsx)(n.code,{children:"`${string}/${string}`"}),">"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Call a TRACE endpoint"}),"\n",(0,i.jsx)(n.h5,{id:"eject",children:"eject()"}),"\n",(0,i.jsx)(n.p,{children:"Unregister middleware"}),"\n",(0,i.jsx)(n.h6,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsx)(n.h6,{id:"middleware",children:"middleware"}),"\n",(0,i.jsxs)(n.p,{children:["...",(0,i.jsx)(n.code,{children:"Middleware"}),"[]"]}),"\n",(0,i.jsx)(n.h6,{id:"returns-3",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.h5,{id:"use",children:"use()"}),"\n",(0,i.jsx)(n.p,{children:"Register middleware"}),"\n",(0,i.jsx)(n.h6,{id:"parameters-3",children:"Parameters"}),"\n",(0,i.jsx)(n.h6,{id:"middleware-1",children:"middleware"}),"\n",(0,i.jsxs)(n.p,{children:["...",(0,i.jsx)(n.code,{children:"Middleware"}),"[]"]}),"\n",(0,i.jsx)(n.h6,{id:"returns-4",children:"Returns"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),"\n",(0,i.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const apiClient = sdk.getApiClient();\n\n// Make direct API calls for advanced use cases\nconst response = await apiClient.GET('/jobs/{id}', {\n  params: { path: { id: 'job-123' } }\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"implementation-of-1",children:"Implementation of"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK",children:(0,i.jsx)(n.code,{children:"IJobnikSDK"})}),".",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK#getapiclient",children:(0,i.jsx)(n.code,{children:"getApiClient"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getconsumer",children:"getConsumer()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"getConsumer"}),"(): ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer",children:(0,i.jsx)(n.code,{children:"IConsumer"})}),"<",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L152",children:"sdk.ts:152"})]}),"\n",(0,i.jsx)(n.p,{children:"Gets a consumer client for dequeueing and processing tasks."}),"\n",(0,i.jsx)(n.h4,{id:"returns-5",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IConsumer",children:(0,i.jsx)(n.code,{children:"IConsumer"})}),"<",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n",(0,i.jsx)(n.p,{children:"Consumer instance configured with the SDK's API client and logger"}),"\n",(0,i.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const consumer = sdk.getConsumer();\nconst task = await consumer.dequeueTask('resize');\n\nif (task) {\n  // Process the task...\n  await consumer.markTaskCompleted(task.id);\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"implementation-of-2",children:"Implementation of"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK",children:(0,i.jsx)(n.code,{children:"IJobnikSDK"})}),".",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK#getconsumer",children:(0,i.jsx)(n.code,{children:"getConsumer"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"getproducer",children:"getProducer()"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"getProducer"}),"(): ",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IProducer",children:(0,i.jsx)(n.code,{children:"IProducer"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Defined in: ",(0,i.jsx)(n.a,{href:"https://github.com/MapColonies/jobnik-sdk/blob/2209fb85b762423afa05ccdd8b60589b5cf22f3a/src/sdk.ts#L179",children:"sdk.ts:179"})]}),"\n",(0,i.jsx)(n.p,{children:"Gets a producer client for creating jobs, stages, and tasks."}),"\n",(0,i.jsx)(n.h4,{id:"returns-6",children:"Returns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IProducer",children:(0,i.jsx)(n.code,{children:"IProducer"})}),"<",(0,i.jsx)(n.code,{children:"JobTypes"}),", ",(0,i.jsx)(n.code,{children:"StageTypes"}),">"]}),"\n",(0,i.jsx)(n.p,{children:"Producer instance configured with the SDK's API client and logger"}),"\n",(0,i.jsx)(n.h4,{id:"example-2",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const producer = sdk.getProducer();\n\nconst job = await producer.createJob({\n  name: 'image-processing',\n  userMetadata: { userId: 'user-123' },\n  data: { imageUrl: 'https://example.com/image.jpg' }\n});\n\nconst stage = await producer.createStage(job.id, {\n  type: 'resize',\n  userMetadata: { quality: 80 },\n  data: { width: 800, height: 600 }\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"implementation-of-3",children:"Implementation of"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK",children:(0,i.jsx)(n.code,{children:"IJobnikSDK"})}),".",(0,i.jsx)(n.a,{href:"/infra-portal/pr-preview/pr-45/docs/knowledge-base/packages/jobnik-sdk/typedoc/interfaces/IJobnikSDK#getproducer",children:(0,i.jsx)(n.code,{children:"getProducer"})})]})]})}function p(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var r=s(96540);const i={},d=r.createContext(i);function c(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);